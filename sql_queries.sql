

CREATE TABLE USERS (
    USER_ID     NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    USER_NAME   VARCHAR2(200),
    EMAIL       VARCHAR2(200),
    PASSWORD    VARCHAR2(200),
    CREATED_AT  TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE CATEGORIES (
    CATEGORY_ID   NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NAME          VARCHAR2(200),
    USER_ID       NUMBER,
    DESCRIPTION   VARCHAR2(400),
    CONSTRAINT fk_categories_user
        FOREIGN KEY (USER_ID)
        REFERENCES USERS(USER_ID)
);

CREATE TABLE EXPENSES (
    EXPENSES_ID    NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    EXPENSE_TITLE  VARCHAR2(200),
    AMOUNT         NUMBER,
    EXPENSES_DATE           TIMESTAMP,
    CATEGORY_ID    NUMBER,
    USER_ID        NUMBER,
    NOTE           VARCHAR2(200),

    CONSTRAINT fk_expense_category
        FOREIGN KEY (CATEGORY_ID)
        REFERENCES CATEGORIES(CATEGORY_ID),

    CONSTRAINT fk_expense_user
        FOREIGN KEY (USER_ID)
        REFERENCES USERS(USER_ID)
);




